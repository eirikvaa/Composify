name: Composify Tests
on: [push]

jobs:
    build:
        name: Test
        runs-on: macOS-latest
        steps:
            - name: Checkout
              uses: actions/checkout@v1

            - name: Setup Ruby
              uses: actions/setup-ruby@v1
              with:
                ruby-version: 2.6.6
            
            - name: Install Bundler
              run: gem install bundler:2.1.4

            - name: Install Carthage
              run: brew install carthage

            - name: Install Gems
              run: bundle install

            - name: Run tests
              run: bundle exec fastlane test

